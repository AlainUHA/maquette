{% extends 'base.html.twig' %}

{% block title %}Ressource{% endblock %}

{% block body %}
    <h1>Créer une ressource</h1>
    <p>
        <a class="btn btn-secondary" href="{{ path('ressources.voir',{id:mention.id}) }}">Retour</a>
    </p>
{{ form_start(form) }}
    {{ form_errors(form) }}
<div class="accordion" id="accordionRessource">
    <div class="accordion-item">
        <h2 class="accordion-header">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                Informations générales
            </button>
        </h2>
        <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionRessource">
            <div class="accordion-body">
                {{ form_row(form.libelle) }}
                {{ form_row(form.commun) }}
                {{ form_row(form.typologie) }}
                <table class="table">
                    <thead>
                    <tr>
                        <th></th>
                        <th>CI</th>
                        <th>CM</th>
                        <th>TD</th>
                        <th>TP</th>
                        <th></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>Volumes horaires :</td>
                        <td>{{ form_widget(form.ci) }}{{ form_errors(form.ci) }}</td>
                        <td>{{ form_widget(form.cm) }}</td>
                        <td>{{ form_widget(form.td) }}</td>
                        <td>{{ form_widget(form.tp) }}</td>
                        <td>{{ form_widget(form.hybride) }}</td>
                    </tr>
                    </tbody>
                </table>
                <p>Si la ressource se déroule en mode projet, indiquez le temps de travail en autonomie des étudiants :</p>
                <p>{{ form_widget(form.projetAutonomie) }}</p>
            </div>
        </div>
    </div>

    {% if mention.grade.id == 1 or mention.grade.id == 2  %}{# Si la mention est une licence ou une licence pro #}
    <div class="accordion-item">
        <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                VSSH et TEDS
            </button>
        </h2>
        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionRessource">
            <div class="accordion-body">
                <p>Si la ressource aborde les VSSH (Violences Sexuelles et Sexistes et Harcèlement) ou la TEDS (Transition Ecologique et Développement Soutenanble), cochez les cases :</p>
                {{ form_row(form.vssh) }}
                {{ form_row(form.ctTeds) }}
            </div>
        </div>
    </div>
    {% endif %}
    <div class="accordion-item">
        <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="true" aria-controls="collapseThree">
                Compétences transversales
            </button>
        </h2>
        <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionRessource">
            <div class="accordion-body">
                <p>Si la ressource permet de travailler les compétences transversales obligatoires, cochez les cases correspondantes :</p>

                {{ form_row(form.ctExpression) }}
                {{ form_row(form.ctMtu) }}
                {{ form_row(form.ctNumeriquePix) }}
                {{ form_row(form.ctInformationnelle) }}
                {{ form_row(form.ctProfessionnelle) }}
                {{ form_row(form.ctInternationale) }}
            </div>
        </div>
    </div>
</div>

    <p>{{ form_row(form.save) }}</p>
{# form_end(form) #}
    {{ form_end(form,{'render_rest': true}) }}
{% endblock %}
